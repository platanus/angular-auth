angular.module("PlAuth",["restmod"]);
!function(){"use strict";function t(){function t(){this.getLocalStoragePrefix=function(){return u},this.getUidHeaderName=function(){return i},this.getTokenHeaderName=function(){return r},this.getUidKey=function(){return e},this.getTokenKey=function(){return n}}var e="uid",n="token",i="X-User-Email",r="X-User-Token",u="angularAuth";this.setLocalStoragePrefix=function(t){u=t},this.setTokenHeaderName=function(t){r=t},this.setUidHeaderName=function(t){i=t},this.setUidKey=function(t){e=t},this.setTokenKey=function(t){n=t},this.$get=function(){return new t}}angular.module("PlAuth").provider("AuthConfig",t)}();
!function(){"use strict";function e(e,t){function r(){return!!e.getKey("uid")&&!!e.getKey("token")}function n(){return!!e.getKey("uid")}function i(){var t={};return t[g]=e.getKey("uid"),t[d]=e.getKey("token"),t}function o(t){if(!angular.isObject(t))throw new Error("an object was expected to store");if(t[s]){if(!t[c])throw new Error("A uid is need");e.setKey("token",t[s])}t[c]&&e.setKey("uid",t[c])}function u(){e.eraseKey("uid"),e.eraseKey("token")}var a={store:o,clear:u,isLogged:r,isRegistered:n,getAuthorizationHeaders:i},d=t.getTokenHeaderName(),g=t.getUidHeaderName(),s=t.getTokenKey(),c=t.getUidKey();return a}angular.module("PlAuth").service("AuthSrv",e),e.$inject=["LocalDataSrv","AuthConfig"]}();
!function(){"use strict";function e(e,t,n){return e.mixin(function(){this.on("before-request",function(e){n.isLogged()&&(e.headers=angular.extend(e.headers||{},n.getAuthorizationHeaders()))})})}angular.module("PlAuth").service("HttpAuth",e),e.$inject=["restmod","inflector","AuthSrv"]}();
!function(){"use strict";function t(t){function e(e){return[t.getLocalStoragePrefix(),e].join(".")}var n=function(t){delete window.localStorage[e(t)]},o=function(t){return localStorage.getItem(e(t))},r=function(t){return!!localStorage.getItem(e(t))},a=function(t,n){localStorage.setItem(e(t),n)};return{setKey:a,getKey:o,isKeySet:r,eraseKey:n}}angular.module("PlAuth").factory("LocalDataSrv",t),t.$inject=["AuthConfig"]}();