angular.module("PlAuth",["restmod"]);
!function(){"use strict";function t(){function t(){this.getLocalStoragePrefix=function(){return r},this.getUidHeaderName=function(){return i},this.getTokenHeaderName=function(){return u},this.getUidKey=function(){return e},this.getTokenKey=function(){return n},this.getUidRequired=function(){return o}}var e="uid",n="token",i="X-User-Email",u="X-User-Token",r="angularAuth",o=!0;this.setLocalStoragePrefix=function(t){r=t},this.setTokenHeaderName=function(t){u=t},this.setUidHeaderName=function(t){i=t},this.setUidKey=function(t){e=t},this.setTokenKey=function(t){n=t},this.setUidRequired=function(t){o=t},this.$get=function(){return new t}}angular.module("PlAuth").provider("AuthConfig",t)}();
!function(){"use strict";function e(e,t){function r(){var t=[];return f&&t.push(!!e.getKey("uid")),t.push(!!e.getKey("token")),t.every(function(e){return e===!0})}function n(){return!!e.getKey("uid")}function i(){var t={};return f&&(t[s]=e.getKey("uid")),t[d]=e.getKey("token"),t}function u(t){if(!angular.isObject(t))throw new Error("an object was expected to store");if(t[g]){if(!t[c]&&f)throw new Error("A uid is need");e.setKey("token",t[g])}t[c]&&f&&e.setKey("uid",t[c])}function o(){e.eraseKey("uid"),e.eraseKey("token")}var a={store:u,clear:o,isLogged:r,isRegistered:n,getAuthorizationHeaders:i},d=t.getTokenHeaderName(),s=t.getUidHeaderName(),g=t.getTokenKey(),c=t.getUidKey(),f=t.getUidRequired();return a}angular.module("PlAuth").service("AuthSrv",e),e.$inject=["LocalDataSrv","AuthConfig"]}();
!function(){"use strict";function e(e,t,n){return e.mixin(function(){this.on("before-request",function(e){n.isLogged()&&(e.headers=angular.extend(e.headers||{},n.getAuthorizationHeaders()))})})}angular.module("PlAuth").service("HttpAuth",e),e.$inject=["restmod","inflector","AuthSrv"]}();
!function(){"use strict";function t(t){function e(e){return[t.getLocalStoragePrefix(),e].join(".")}var n=function(t){delete window.localStorage[e(t)]},o=function(t){return localStorage.getItem(e(t))},r=function(t){return!!localStorage.getItem(e(t))},a=function(t,n){localStorage.setItem(e(t),n)};return{setKey:a,getKey:o,isKeySet:r,eraseKey:n}}angular.module("PlAuth").factory("LocalDataSrv",t),t.$inject=["AuthConfig"]}();